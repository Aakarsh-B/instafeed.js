{"version":3,"sources":["instafeed.js"],"names":["exportInstafeed","root","factory","define","amd","exports","nodeName","module","Instafeed","this","defineInstafeed","assert","val","msg","Error","options","opts","accessToken","accessTokenTimeout","after","apiTimeout","before","cacheExpiry","cacheKey","debug","error","filter","limit","mock","render","sort","success","target","template","templateBoundaries","transform","optKey","length","_state","running","_options","_cache","_selectCacheStore","prototype","run","scope","node","url","items","html","_debug","document","getElementById","_getAccessToken","err","token","_fail","message","_runHook","_makeApiRequest","data","_success","_processData","processErr","_renderData","renderErr","innerHTML","_finish","hasTransform","hasFilter","hasSort","hasLimit","transformedFiltered","limitDelta","dataItem","transformedItem","filterResult","i","_getItemData","push","splice","type","image","media_type","media_url","thumbnail_url","caption","id","link","permalink","model","timestamp","username","hasTemplate","hasRender","item","itemHtml","_basicRender","exp","RegExp","match","output","lastIndex","keyPath","keyPathValue","exec","slice","index","_valueForKeyPath","toString","lastValue","console","callback","called","apiRequest","callbackOnce","value","cacheData","_cacheGet","XMLHttpRequest","ontimeout","event","onerror","onload","contentType","getResponseHeader","responseJson","status","indexOf","JSON","parse","responseText","_cacheSet","code","open","timeout","send","timeoutCheck","clearTimeout","setTimeout","args","log","call","arguments","apply","hookName","setItem","stringify","expires","Date","getTime","hit","getItem","e","storeTypes","_checkStore","window","storage","test","removeItem"],"mappings":"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","file":"instafeed.min.js"}